@using KeyHub.Market.Models
    
<header class="header-component">
    <nav class="header-nav">
        <div class="header-nav-left">
            <a href="/" class="header-logo-link">
                <img src="~/images/keyHub-logo.png" alt="KeyHub Logo" class="header-logo">
                <h1 class="header-title">KeyHub</h1>
            </a>
        </div>

        <div class="header-nav-center">
            <form method="get" action="/search">
                <input 
                    type="text" 
                    name="title" 
                    placeholder="Search for a game..." 
                    class="header-search" 
                    value="@ViewBag.SearchTitle" />
                <button type="submit">Search</button>
            </form>
        </div>

        <div class="header-nav-right">
            <div class="header-genre-dropdown">
                <span>Genre â–¼</span>
                @* todo dynamiczna z bazy danych *@
                <ul class="header-genre-list">
                    @foreach(var genre in Enum.GetValues(typeof(Genre))){
                        <li><a href="/search?genres=@genre">@genre</a></li>
                    }
                </ul>
            </div>

            @if (!User.Identity!.IsAuthenticated) {
                <a href="/login" class="header-link">Login</a>
                <a href="/register" class="header-link">Register</a>
            }
            else {
                <a href="/Cart" class="header-cart-icon" title="Your Cart">
                    <i class="fas fa-shopping-cart"></i>
                </a>
                
                <form asp-controller="Auth" asp-action="Logout" method="post" class="d-inline">
                    <button type="submit" class="header-link btn btn-link">Logout</button>
                </form>
            }
        </div>
    </nav>
</header>