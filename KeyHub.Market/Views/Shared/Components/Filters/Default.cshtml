@using KeyHub.Market.Models
@model KeyHub.Market.Models.ViewModels.FiltersViewModel


<aside class="filters">
    <h3>Filters</h3>

    <div class="filter-group">
        <label>Price (PLN)</label>
        <div class="price-filter">
            <input type="number" placeholder="From">
            <span>-</span>
            <input type="number" placeholder="To">
        </div>
    </div>

    <form method="get" asp-action="SearchGame">
        <div class="filter-group">
            <label>Platform</label>
            <ul>
                @foreach (var platform in Model.PlatformStats)
                {
                    <li>
                        <label>
                            <input type="checkbox" name="platforms" value="@platform.Platform" 
                                   @(ViewBag.SelectedPlatforms != null && ((Platform[])ViewBag.SelectedPlatforms).Contains(platform.Platform) ? "checked" : "")>
                            @platform.Platform
                            <span>@platform.Count</span>
                        </label>
                    </li>
                }
            </ul>
        </div>

        <button type="submit">Apply</button>
    </form>

    <form method="get" asp-action="SearchGame">
        <div class="filter-group">
            <label>Genre</label>
            <ul>
                @foreach (var genre in Model.GenreStats)
                {
                    <li>
                        <label>
                            <input type="checkbox" name="genres" value="@genre.Genre"
                                   @(ViewBag.SelectedGenres != null && ((Genre[])ViewBag.SelectedGenres).Contains(genre.Genre) ? "checked" : "")>
                            @genre.Genre
                            <span>@genre.Count</span>
                        </label>
                    </li>
                }
            </ul>
        </div>

        <button type="submit">Apply</button>
    </form>
</aside>
<style>

    .filters {
        width: 220px;
        padding: 15px;
        background-color: #f7f7f7;
        border-radius: 8px;
    }

    .filters h3 {
        font-size: 18px;
        margin-bottom: 10px;
    }

    .filter-group {
        margin-bottom: 20px;
    }

    .filter-group label {
        font-weight: bold;
        display: block;
        margin-bottom: 6px;
    }

    .filter-group ul {
        list-style: none;
        padding-left: 0;
    }

    .filter-group ul li {
        padding: 4px 0;
        font-size: 14px;
    }

    .filter-group ul li label {
        cursor: pointer;
        display: flex;
        justify-content: space-between;
    }



</style>